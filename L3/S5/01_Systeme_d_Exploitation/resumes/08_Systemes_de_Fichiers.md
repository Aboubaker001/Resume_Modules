<div dir="rtl" align="right">

# 08. أنظمة الملفات (Systèmes de Fichiers)

### 1️⃣ ملخص الفكرة
نظام الملفات هو الطريقة التي ينظم بها نظام التشغيل البيانات على وحدات التخزين (مثل القرص الصلب). هو المسؤول عن تحويل "الملفات" التي يراها المستخدم إلى "كتل بيانات" (Blocks) يراها العتاد.

---

### 2️⃣ شرح مفصل ومبسط

#### مفهوم الملف والمجلد:
- **الملف (Fichier):** مجموعة من البيانات المرتبطة ببعضها.
- **المجلد (Répertoire):** ملف خاص يحتوي على أسماء الملفات ومواقعها.

#### طرق تخصيص المساحة (Allocation):
1. **التخصيص المتصل (Contiguë):** الملف يشغل كتل متتالية. (سريع لكن يسبب تجزئة).
2. **التخصيص المرتبط (Liée):** كل كتلة تحتوي على مؤشر للكتلة التالية. (لا توجد تجزئة لكن الوصول العشوائي بطيء).
3. **التخصيص المفهرس (Indexée):** وجود كتلة فهرس (Index Block) تحتوي على كل عناوين كتل الملف. (يسمح بالوصول العشوائي السريع).

#### إدارة المساحة الفارغة:
- **Bit Vector:** مصفوفة بتات (0 للفارغ، 1 للمشغول).
- **Linked List:** قائمة مرتبطة بالكتل الفارغة.

---

### 3️⃣ هيكل الـ Inode (في أنظمة Unix)

الـ **Inode** هو هيكل بيانات يحتوي على كل معلومات الملف (الحجم، المالك، الصلاحيات) ما عدا اسمه. يحتوي على مؤشرات مباشرة ومؤشرات غير مباشرة (Simple/Double/Triple Indirect) للوصول لملفات كبيرة جداً.

---

### 4️⃣ أمثلة تطبيقية
عندما تفتح ملفاً في Linux:
1. يبحث النظام عن اسم الملف في المجلد ليجد رقم الـ **Inode**.
2. يقرأ الـ **Inode** من القرص ليعرف أين توجد كتل البيانات.
3. يطلب من المشغل (Driver) قراءة تلك الكتل.

---

### 5️⃣ نقاط مهمة للحفظ (Exam Tips)
- **FCB (File Control Block):** هو المعادل لـ PCB لكن للملفات.
- **Mounting:** عملية ربط نظام ملفات (مثل USB) بشجرة الملفات الأساسية.
- **Journaling:** تقنية لحماية نظام الملفات من الفساد عند انقطاع الكهرباء المفاجئ.

---

### 6️⃣ تمرين امتحاني
**سؤال:** ما هي ميزة التخصيص المفهرس (Indexée) مقارنة بالتخصيص المرتبط (Liée)؟

**تلميح للحل:** التخصيص المفهرس يدعم الوصول المباشر (Direct Access) لأي جزء من الملف دون الحاجة لقراءة كل الكتل السابقة.

</div>
