<div dir="rtl" align="right">

# 02. العمليات والخيوط (Processus et Threads)

### 1️⃣ ملخص الفكرة
العملية (Processus) هي برنامج قيد التنفيذ، بينما الخيط (Thread) هو وحدة تنفيذ أصغر داخل العملية. فهم الفرق بينهما هو مفتاح فهم كيفية عمل الأنظمة الحديثة متعددة المهام.

---

### 2️⃣ شرح مفصل ومبسط

#### العملية (Processus)
هي وحدة العمل الأساسية في النظام. تتكون من:
- **Code:** التعليمات البرمجية.
- **Data:** المتغيرات والبيانات.
- **Stack & Heap:** مساحات لتخزين البيانات المؤقتة والديناميكية.
- **PCB (Process Control Block):** بطاقة تعريف العملية (تحتوي على PID، الحالة، السجلات...).

#### حالات العملية (États des processus)
تمر العملية بخمس حالات أساسية:
1. **Nouveau:** قيد الإنشاء.
2. **Prêt (Ready):** جاهزة وتنتظر المعالج.
3. **Élu (Running):** قيد التنفيذ حالياً.
4. **Bloqué (Waiting):** تنتظر حدثاً (مثل إدخال بيانات).
5. **Terminé:** انتهت من التنفيذ.

#### الخيوط (Threads)
تسمى أحياناً "العمليات الخفيفة" (Lightweight Processes). تشترك الخيوط داخل نفس العملية في الكود والبيانات، لكن لكل خيط سجلاته (Registers) ومكدسه (Stack) الخاص.

---

### 3️⃣ مخطط حالات العملية (Diagramme d'états)

```text
       (Admis)        (Scheduler Dispatch)
 Nouveau ------> Prêt ----------------------> Élu
                  ^                            |
                  |      (Interruption)        |
                  +----------------------------+
                  |                            |
                  |      (Attente E/S)         |
                  +----------- Bloqué <--------+
```

---

### 4️⃣ أمثلة تطبيقية
- **Processus:** فتح متصفح Chrome وفتح برنامج Word. كل منهما عملية مستقلة بذاكرة منفصلة.
- **Thread:** داخل متصفح Chrome، خيط مسؤول عن عرض الصور، وخيط مسؤول عن تحميل النص، وخيط يستجيب لضغطات المفاتيح.

---

### 5️⃣ نقاط مهمة للحفظ (Exam Tips)
- **Context Switch:** هي العملية المكلفة زمنياً لحفظ حالة عملية وتحميل أخرى.
- **PCB:** يحتوي على كل المعلومات اللازمة لاستئناف العملية بعد توقفها.
- **Threads:** التواصل بينها أسرع من التواصل بين العمليات لأنها تشترك في نفس الذاكرة.

---

### 6️⃣ تمرين امتحاني
**سؤال:** لماذا يعتبر إنشاء Thread أسرع من إنشاء Processus؟

**تلميح للحل:** لأن الـ Thread لا يحتاج لتخصيص مساحة ذاكرة جديدة بالكامل، بل يشترك مع العملية الأم في مواردها الموجودة مسبقاً.

</div>
