<div dir="rtl" align="right">

# TD 3: الاختناق وإدارة الذاكرة (Deadlock & Mémoire)

تمارين تطبيقية حول خوارزمية البنكي وحسابات الذاكرة والصفحات.

---

## التمرين الأول: خوارزمية البنكي (Banker's Algorithm)

**السؤال:** لدينا نظام بـ 3 أنواع من الموارد (A, B, C) والوضعية التالية:

| Processus | Allocation (A,B,C) | Max (A,B,C) | Available (A,B,C) |
| :--- | :--- | :--- | :--- |
| P0 | 0, 1, 0 | 7, 5, 3 | 3, 3, 2 |
| P1 | 2, 0, 0 | 3, 2, 2 | |
| P2 | 3, 0, 2 | 9, 0, 2 | |

1. احسب مصفوفة الاحتياجات (Need).
2. هل النظام في حالة آمنة؟ إذا نعم، أعطِ تسلسل الأمان (Safe Sequence).

**الحل:**
1. **مصفوفة Need (Max - Allocation):**
   - P0: (7,4,3)
   - P1: (1,2,2)
   - P2: (6,0,0)

2. **تسلسل الأمان:**
   - نقارن Need مع Available (3,3,2).
   - P1 تحتاج (1,2,2) وهي أقل من المتوفر. تنفذ P1 وتعيد مواردها.
   - الجديد المتوفر = (3,3,2) + (2,0,0) = (5,3,2).
   - P0 تحتاج (7,4,3) - لا يمكن.
   - P2 تحتاج (6,0,0) - لا يمكن (نحتاج 6 من A ولدينا 5).
   - **النتيجة:** النظام ليس في حالة آمنة تماماً في هذه اللحظة (بناءً على الأرقام المختصرة).

---

## التمرين الثاني: حسابات الذاكرة (Pagination)

**السؤال:** نظام يستخدم عناوين منطقية بـ 16 بت، وحجم الصفحة 1KB.
1. كم عدد الصفحات في الفضاء المنطقي؟
2. إذا كان العنوان المنطقي هو `0x0405` (بالسداسي عشر)، ما هو رقم الصفحة والإزاحة (Offset)؟

**الحل:**
1. **عدد الصفحات:**
   - $1KB = 2^{10}$ بايت. إذن الإزاحة تأخذ 10 بت.
   - عدد بتات الصفحة = $16 - 10 = 6$ بت.
   - عدد الصفحات = $2^6 = 64$ صفحة.

2. **تحليل العنوان `0x0405`:**
   - بالثنائي: `0000 0100 0000 0101`
   - آخر 10 بت (Offset): `00 0000 0101` = `0x005` = 5.
   - أول 6 بت (Page): `0000 01` = 1.
   - **رقم الصفحة: 1، الإزاحة: 5.**

---

## التمرين الثالث: استبدال الصفحات (LRU vs FIFO)

**السؤال:** سلسلة الطلبات: `7, 0, 1, 2, 0, 3`. عدد الإطارات = 3. احسب عدد أخطاء الصفحات (Page Faults) لـ FIFO.

**الحل (FIFO):**
1. طلب 7: `[7, _, _]` (خطأ 1)
2. طلب 0: `[7, 0, _]` (خطأ 2)
3. طلب 1: `[7, 0, 1]` (خطأ 3)
4. طلب 2: `[2, 0, 1]` (خطأ 4) - استبدال 7 لأنها الأقدم.
5. طلب 0: `[2, 0, 1]` (نجاح) - 0 موجودة.
6. طلب 3: `[2, 3, 1]` (خطأ 5) - استبدال 0 لأنها الأقدم بعد 7.
**إجمالي الأخطاء = 5.**

</div>
